<template>
<div>
	<p>学生干部任职情况</p>
  姓名:
  <input type="text" name="name" id="name" placeholder="姓名">
  <br/> 学号:
  <input type="text" name="sid" id="sid" placeholder="学号">
  <br/> 学年:
  <select id="year">
    <option>2012</option>
    <option>2013</option>
    <option>2014</option>
    <option>2015</option>
    <option>2016</option>
    <option>2017</option>
    <option>2018</option>
  </select>
  <br/> 职务类别:
  <select id="cadreClass">
    <option>学生会</option>
    <option>团委</option>
    <option>研究生会</option>
    <option>学生学术发展中心</option>
    <option>职发办</option>
    <option>社团</option>
    <option>院队</option>
    <option>班干部</option>
  </select>
  <br/> 职务名称:
  <input type="text" name="cadreName" id="cadreName" placeholder="职务名称">
  <br/> 职务级别:
  <select id="cadreJiBie">
    <option>校级</option>
    <option>校区级</option>
    <option>院级</option>
  </select>
  <br/>
  <button type="button" @click="insertClick">添加信息</button>
</div>
</template>

<script>
export default {
  data () {
    return {}
  },
  methods: {
    insertClick : function() {
    	var data = JSON.stringify({
          'table': 'carde',
          'name': $('#name').val(),
          'sid': $('#sid').val(),
          'year': $('#year').val(),
          'cadreClass': $('#cadreClass').val(),
          'cadreName': $('#cadreName').val(),
          'cadreJiBie': $('#cadreJiBie').val()
        })
    	console.log(data);
      $.ajax({
        type: "POST",
        url: "/students/insert/cadre",
        contentType: "application/json; charset=utf-8",
        data: data,
        dataType: "json",
        //timeous 5s
        timeout: 5000,
        success: function(data, xhr) {
          console.log(xhr.status);
          console.log(data);
          alert('插入成功！');
        },
        error: function(data) {
          console.log(data.status);
          alert(data.responseJSON.err);
        }
      });
    }
  }
}
</script>

<style>
input, select, button{
	margin-top: 10px;
}
</style>